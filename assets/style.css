/* ===== Base & Theme ===== */
:root{
  --bg:#ffffff;
  --text:#222222;
  --muted:#666666;
  --primary:#1f6feb;         /* link color */
  --border:#e5e7eb;
  --card:#fafafa;
  --code-bg:#0f172a0d;       /* subtle slate */
  --radius:16px;
  --shadow:0 6px 20px rgba(0,0,0,.06);
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0f14;
    --text:#e5e7eb;
    --muted:#a1a1aa;
    --primary:#8ab4ff;
    --border:#1f2937;
    --card:#11161d;
    --code-bg:#0b1220;
  }
}

html{scroll-behavior:smooth}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg);
  color:var(--text);
  line-height:1.7;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* ===== Layout ===== */
.container{
  max-width: 860px;
  margin: 48px auto;
  padding: 0 20px;
}
header.site{
  text-align:center;
  margin-bottom:28px;
}
header.site h1{
  font-size: clamp(1.7rem, 4vw, 2.2rem);
  margin: 0 0 6px;
}
header.site .meta{
  color:var(--muted);
  font-size:.95rem;
}
nav.breadcrumbs{
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  margin: 6px 0 24px;
  font-size:.95rem;
}
nav.breadcrumbs a{opacity:.9}

/* ===== Typography ===== */
h1,h2,h3{
  line-height:1.25;
  margin: 1.6em 0 .5em;
}
h1{font-size: clamp(1.8rem, 4vw, 2.4rem)}
h2{font-size: clamp(1.35rem, 3vw, 1.7rem)}
h3{font-size: clamp(1.15rem, 2.3vw, 1.3rem)}
p{margin: .8em 0}
small, .muted{color:var(--muted)}
hr{
  border:0; height:1px; background:linear-gradient(90deg,transparent, var(--border), transparent);
  margin: 28px 0;
}

/* ===== Links & Buttons ===== */
a{
  color:var(--primary);
  text-decoration:none;
  border-bottom: 1px dashed color-mix(in oklab, var(--primary) 60%, transparent);
}
a:hover{border-bottom-style:solid}
.button{
  display:inline-block; padding:10px 14px; border-radius:12px;
  border:1px solid var(--border); background:var(--card); box-shadow:var(--shadow);
}

/* ===== Cards / Callouts ===== */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:18px 20px;
  box-shadow: var(--shadow);
  margin: 18px 0;
}
.callout{
  border-left:4px solid var(--primary);
  padding:12px 16px; background: color-mix(in oklab, var(--primary) 8%, var(--card));
  border-radius:12px;
}

/* ===== Lists (nice numbers) ===== */
ol{
  counter-reset:item;
  padding-left:0;
}
ol > li{
  list-style:none;
  counter-increment:item;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px 16px 14px 52px;
  margin:12px 0;
  position:relative;
  box-shadow:var(--shadow);
}
ol > li::before{
  content: counter(item);
  position:absolute; left:12px; top:12px;
  width:28px; height:28px; display:grid; place-items:center;
  border-radius:10px;
  background: color-mix(in oklab, var(--primary) 14%, var(--bg));
  color:var(--primary); font-weight:700;
}

/* ===== Tables ===== */
table{
  width:100%; border-collapse:separate; border-spacing:0;
  border:1px solid var(--border); border-radius:12px; overflow:hidden;
  box-shadow:var(--shadow); background:var(--card); margin:16px 0;
}
th, td{ padding:12px 14px; text-align:left; }
thead th{ background: color-mix(in oklab, var(--card) 70%, var(--bg)); }
tbody tr:nth-child(odd){ background: color-mix(in oklab, var(--card) 95%, var(--bg)); }
tbody tr:hover{ background: color-mix(in oklab, var(--primary) 6%, var(--card)); }

/* ===== Code, Pre, KBD ===== */
code, kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background:var(--code-bg);
  padding:.2em .4em; border-radius:8px; border:1px solid color-mix(in oklab, var(--border) 70%, transparent);
}
pre{
  background:var(--code-bg);
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px 16px;
  overflow:auto;
  box-shadow:var(--shadow);
}
pre code{ background:transparent; padding:0; border:0 }

/* ===== Media ===== */
img, video, iframe{
  max-width:100%; height:auto; border-radius:12px;
  border:1px solid var(--border); background:var(--card);
  box-shadow:var(--shadow);
}
figure{margin:18px 0}
figcaption{color:var(--muted); font-size:.9rem; text-align:center; margin-top:8px}

/* ===== Blockquote ===== */
blockquote{
  margin:16px 0; padding:12px 16px;
  border-left:4px solid var(--primary);
  background: color-mix(in oklab, var(--primary) 8%, var(--card));
  border-radius: 0 12px 12px 0;
}

/* ===== Footer ===== */
footer.site{
  margin:48px 0 20px;
  color:var(--muted);
  text-align:center;
}

/* ===== Print (for submissions) ===== */
@media print{
  body{ background:#fff; color:#000; }
  a{ color:#000; text-decoration:underline; border:0 }
  .button, nav.breadcrumbs{ display:none }
  .card, ol>li, pre, table{ box-shadow:none }
  .container{ max-width: none; margin:0; }
}
